{% extends "base.html" %}
{%block content%}
    <div class="container mt-3">
        {% with messages = get_flashed_messages(with_categories=true) %}
        <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
        {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <!-- <strong>Title</strong> --> {{ message }}
            </div>
            {% endfor %}
        {% endif %}
        {% endwith %}
        <form method="POST" enctype = "multipart/form-data">
            <div class="custom-file">
                <input type="file" class="custom-file-input" id="customFile" name="file">
                <label class="custom-file-label" for="customFile">Choose Input Video</label>
            </div><br><br>
            <button type="submit" class="btn btn-primary" name="tomp3"><i class="fa fa-exchange"></i> Convert to MP3</button>
            <button type="submit" class="btn btn-danger" name="to720"><i class="fa fa-refresh"></i> Convert to 720p</button>
            <button type="submit" class="btn btn-danger" name="to540"><i class="fa fa-refresh"></i> Convert to 540p</button>
            <button type="submit" class="btn btn-danger" name="to360"><i class="fa fa-refresh"></i> Convert to 360p</button>
            <button type="submit" class="btn btn-danger" name="to144"><i class="fa fa-refresh"></i> Convert to 144p</button>
        </form>
    </div>
    <script>
        $(".custom-file-input").on("change", function() {
          var fileName = $(this).val().split("\\").pop();
          $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });
    </script>
{%endblock%}